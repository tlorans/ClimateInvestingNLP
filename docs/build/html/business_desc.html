
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Using Business Description for a Firm-Level Estimate of Greeness &#8212; Climate Investing with NLP 0 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Transition Investing" href="transition_investing.html" />
    <link rel="prev" title="A Green Taxonomy" href="greentaxonomy.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Climate Investing with NLP 0 documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="introduction.html">
   Transition: the Hidden Dimension in Net Zero Investing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="greentaxonomy.html">
   A Green Taxonomy
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Using Business Description for a Firm-Level Estimate of Greeness
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="transition_investing.html">
   Transition Investing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="conclusion.html">
   Conclusion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="references.html">
   References
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/business_desc.md.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#embeddings-with-a-sentence-transformer-model">
   Embeddings with a Sentence Transformer Model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cosine-similarity">
   Cosine Similarity
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#greeness-measure">
   Greeness Measure
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#python-implementation-results">
   Python Implementation &amp; Results
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Using Business Description for a Firm-Level Estimate of Greeness</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#embeddings-with-a-sentence-transformer-model">
   Embeddings with a Sentence Transformer Model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cosine-similarity">
   Cosine Similarity
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#greeness-measure">
   Greeness Measure
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#python-implementation-results">
   Python Implementation &amp; Results
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="using-business-description-for-a-firm-level-estimate-of-greeness">
<h1>Using Business Description for a Firm-Level Estimate of Greeness<a class="headerlink" href="#using-business-description-for-a-firm-level-estimate-of-greeness" title="Permalink to this headline">#</a></h1>
<p>As Alessi and Battiston (2022) <span id="id1">[<a class="reference internal" href="references.html#id13" title="Lucia Alessi and Stefano Battiston. Two sides of the same coin: Green Taxonomy alignment versus transition risk in financial portfolios. International Review of Financial Analysis, 2022.">AB22</a>]</span> have choosen to follow the EU Taxonomy framework, while data are unavailable at the issuer level, they propose a top-down approach to measure firm greeness, by computing a taxonomy alignment coefficient with data at sector level (NACE sectors).</p>
<p>As we want to estimate a firm level measure of greeness, we develop a text-mining approach.</p>
<p>More specifically, we define the firm-level exposure to a given activity as <em>the semantic similarity between the business description of the firm and the description of the activity.</em></p>
<section id="embeddings-with-a-sentence-transformer-model">
<h2>Embeddings with a Sentence Transformer Model<a class="headerlink" href="#embeddings-with-a-sentence-transformer-model" title="Permalink to this headline">#</a></h2>
<p>We first need to transform the business description and activities descriptiom from our taxonomy from unstructured data (text) into a numerical representation. To do so, we use a Sentence Transformer model to create numerical vector representation of the meanings of the business description of the firm <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(D_{i}\)</span> and the description of the activity <span class="math notranslate nohighlight">\(k\)</span>, <span class="math notranslate nohighlight">\(A_{k}\)</span>:</p>
<div class="amsmath math notranslate nohighlight" id="equation-2a9db822-70dc-41c2-9458-86a46480dbc4">
<span class="eqno">(1)<a class="headerlink" href="#equation-2a9db822-70dc-41c2-9458-86a46480dbc4" title="Permalink to this equation">#</a></span>\[\begin{equation}
Emb^{D_{i}} = ST(D_{i})
\end{equation}\]</div>
<p>and</p>
<div class="amsmath math notranslate nohighlight" id="equation-f4fac543-aac5-452b-b497-6ddda12acb6f">
<span class="eqno">(2)<a class="headerlink" href="#equation-f4fac543-aac5-452b-b497-6ddda12acb6f" title="Permalink to this equation">#</a></span>\[\begin{equation}
Emb^{A_k} = ST(A_k)
\end{equation}\]</div>
<p>Where <span class="math notranslate nohighlight">\(Emb^{D_{i}}\)</span> and <span class="math notranslate nohighlight">\(Emb^{A_k}\)</span> are the numerical vector representation (embeddings) of <span class="math notranslate nohighlight">\(D_{i}\)</span> and <span class="math notranslate nohighlight">\(A_{k}\)</span>, performed with the Sentence Transformer model <span class="math notranslate nohighlight">\(ST()\)</span>.</p>
</section>
<section id="cosine-similarity">
<h2>Cosine Similarity<a class="headerlink" href="#cosine-similarity" title="Permalink to this headline">#</a></h2>
<p>We want to be able to determine if the business description <span class="math notranslate nohighlight">\(D_{i}\)</span> is related to one of the activity defined in our taxonomy.</p>
<p>As we now have numerical vector representations <span class="math notranslate nohighlight">\(Emb^{D_{i}}\)</span> and <span class="math notranslate nohighlight">\(Emb^{A_k}\)</span>, we can apply principles from semantic search by determining the closeness of our two vectors. Recalling that dimensions of our vector representation relate to the underlying meaning of the text, computing the closeness of our vectors allows for determining the semantic similarity between our descriptions.</p>
<p>One way to do so is by computing the cosine similarity between our two vectors. The cosine similarity measures the cosine of the angle of those two vectors. The closer the cosine similarity to 1 is, the more related the descriptions are:</p>
<div class="amsmath math notranslate nohighlight" id="equation-6a7221cd-51b9-4523-8f09-6467cc77f277">
<span class="eqno">(3)<a class="headerlink" href="#equation-6a7221cd-51b9-4523-8f09-6467cc77f277" title="Permalink to this equation">#</a></span>\[\begin{equation}
cos(\theta_{D_{i},k}) = \frac{Emb^{D_{i}} \cdot Emb^{A_k}}{||Emb^{D_{i}}|| ||Emb^{A_k}||}
\end{equation}\]</div>
<p>For each business description, the cosine similarity is computed against each activity description in our taxonomy. The maximum cosine similarity measure is retained, with the associated activity.</p>
</section>
<section id="greeness-measure">
<h2>Greeness Measure<a class="headerlink" href="#greeness-measure" title="Permalink to this headline">#</a></h2>
<p>Finally, we adopt the following rule to attribute a <em>greeness</em> score to each issuer:</p>
<ol class="arabic simple">
<li><p>If <span class="math notranslate nohighlight">\(cos(\theta_{D_{i},k}) \leq 0.5\)</span>, a 0 score is attributed to the issuer.</p></li>
<li><p>If the activity <span class="math notranslate nohighlight">\(k\)</span> for which the cosine similarity with the business description was the highest is among the brown activities in our taxonomy, a score of <span class="math notranslate nohighlight">\(-cos(\theta_{D_{i},k})\)</span> is attributed. A score of <span class="math notranslate nohighlight">\(cos(\theta_{D_{i},k})\)</span> is attributed if the activity is among the green activities in our taxonomy.</p></li>
</ol>
</section>
<section id="python-implementation-results">
<h2>Python Implementation &amp; Results<a class="headerlink" href="#python-implementation-results" title="Permalink to this headline">#</a></h2>
<p>Below is the Python code for determining the greeness measure, using data in the <code class="docutils literal notranslate"><span class="pre">materials</span></code> folder.</p>
<p>We first load the file containing the descriptions for the green and brown activities:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># our taxonomy</span>
<span class="n">taxo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;Green_Taxo.xlsx&#39;</span><span class="p">)</span>

<span class="c1"># definitions of green and brown activities</span>
<span class="n">green_definitions</span> <span class="o">=</span> <span class="n">taxo</span><span class="p">[</span><span class="n">taxo</span><span class="p">[</span><span class="s1">&#39;Type&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Green&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">Description</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="n">brown_definitions</span> <span class="o">=</span> <span class="n">taxo</span><span class="p">[</span><span class="n">taxo</span><span class="p">[</span><span class="s1">&#39;Type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Brown&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">Description</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>
</div>
<p>We then load the data containing the business description. We drop the rows without business description or with too short business description (web-scrapping is an art rather than a science…):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">business_desc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;sandp_business_desc.csv&#39;</span><span class="p">)</span>

<span class="n">business_desc</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">business_desc</span><span class="p">[</span><span class="s1">&#39;Business_description&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">business_desc</span> <span class="o">=</span> <span class="n">business_desc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
<span class="n">list_D</span> <span class="o">=</span> <span class="n">business_desc</span><span class="p">[</span><span class="s1">&#39;Business_description&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>
</div>
<p>Then we use the <code class="docutils literal notranslate"><span class="pre">sentence-transformers</span></code> package for embedding our descriptions. Please install it if needed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">sentence_transformers</span>
</pre></div>
</div>
<p>Once installed, we can then proceed to the embedding step for the activities description:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sentence_transformers</span> <span class="kn">import</span> <span class="n">SentenceTransformer</span><span class="p">,</span> <span class="n">util</span>
<span class="kn">import</span> <span class="nn">torch</span>

<span class="n">ST</span> <span class="o">=</span> <span class="n">SentenceTransformer</span><span class="p">(</span><span class="s1">&#39;paraphrase-mpnet-base-v2&#39;</span><span class="p">)</span>
<span class="n">emb_A</span> <span class="o">=</span> <span class="n">ST</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">taxo</span><span class="o">.</span><span class="n">Description</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">convert_to_tensor</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>We create the following function to get the greeness score for each row in our dataframe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_exposure</span><span class="p">(</span><span class="n">business_desc</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">emb_A</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span> <span class="n">taxo</span><span class="p">:</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
  <span class="n">emb_desc</span> <span class="o">=</span> <span class="n">ST</span><span class="o">.</span><span class="n">encode</span><span class="p">([</span><span class="n">business_desc</span><span class="p">],</span> <span class="n">convert_to_tensor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">result</span> <span class="o">=</span> <span class="n">util</span><span class="o">.</span><span class="n">semantic_search</span><span class="p">(</span><span class="n">emb_desc</span><span class="p">,</span> <span class="n">emb_A</span><span class="p">,</span> <span class="n">top_k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">taxo</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;corpus_id&#39;</span><span class="p">]][</span><span class="s1">&#39;Type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Brown&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">):</span>
    <span class="n">exposure</span> <span class="o">=</span> <span class="o">-</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span>
  <span class="k">elif</span> <span class="p">(</span><span class="n">taxo</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;corpus_id&#39;</span><span class="p">]][</span><span class="s1">&#39;Type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Green&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">):</span>
    <span class="n">exposure</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span>

  <span class="k">else</span><span class="p">:</span>
    <span class="n">exposure</span> <span class="o">=</span> <span class="mf">0.0</span>
  <span class="k">return</span> <span class="n">exposure</span>

<span class="n">business_desc</span><span class="p">[</span><span class="s1">&#39;Greeness&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">business_desc</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">get_exposure</span><span class="p">(</span><span class="n">business_desc</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;Business_description&#39;</span><span class="p">],</span>
                                                         <span class="n">emb_A</span> <span class="o">=</span> <span class="n">emb_A</span><span class="p">,</span>
                                                         <span class="n">taxo</span> <span class="o">=</span> <span class="n">taxo</span><span class="p">),</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Let’s plot the results for non-neutral firms:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>                   
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>     
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>  

<span class="n">results</span> <span class="o">=</span> <span class="n">business_desc</span><span class="p">[</span><span class="n">business_desc</span><span class="p">[</span><span class="s1">&#39;Greeness&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;Greeness&#39;</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>

<span class="n">f</span> <span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">results</span><span class="p">,</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">,</span>
            <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Security&#39;</span><span class="p">,</span>
            <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Greeness&#39;</span><span class="p">)</span>

<span class="n">g</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">results</span><span class="o">.</span><span class="n">Security</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
    <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="results">
<img alt="_images/results_greeness_measure.png" src="_images/results_greeness_measure.png" />
<figcaption>
<p><span class="caption-text">Figure: Greeness Measure</span><a class="headerlink" href="#results" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>A few firms among the S&amp;P universe are targeted as green or brown with our greeness measure. This can be explained by the fact that measuring firms greeness with the business description and a quite stringent cosine similarity threshold is equivalent to looking for pure-players in green technologies which limits the universe.</p>
<p>Obtaining more granular results would involves applying the approach of identifying green and brown activities at the business segment level, in order to obtain a measure close to the green intensity measure used by Roncalli et al. (2022) <span id="id2">[<a class="reference internal" href="references.html#id2" title="Barahhou Inès, Ben Slimane Mohamed, Oulid Azouz Noureddine, and Roncalli Thierry. Net Zero Investment Portfolios - Part 1. The Comprehensive Integrated Approach. Amundi, 2022.">IMNT22</a>]</span>.</p>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="greentaxonomy.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">A Green Taxonomy</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="transition_investing.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Transition Investing</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Thomas Lorans<br/>
  
      &copy; Copyright 2023, Thomas Lorans.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>